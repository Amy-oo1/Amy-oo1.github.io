<!DOCTYPE html>


<html theme="dark" showBanner="true" hasBanner="true" > 
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet">
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet">
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet">
<script src="/js/color.global.min.js" ></script>
<script src="/js/load-settings.js" ></script>
<head>
  <meta charset="utf-8">
  
  
  

  
  <title>Amy_blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" href="/css/fonts/Roboto-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
  <link rel="preload" href="/css/fonts/Roboto-Bold.ttf" as="font" type="font/ttf" crossorigin="anonymous">

  <meta property="og:type" content="website">
<meta property="og:title" content="Amy_blog">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Amy_blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Amy">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Amy_blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="https://s2.loli.net/2024/10/10/2oxlOyLIDmZPARF.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>

<body>
  
  
    
<div id="banner" class=" is_home ">
  <img src="https://s2.loli.net/2024/10/10/eAtoNJZinjY19us.jpg" itemprop="image">
  <div id="banner-dim"></div>
</div>
 
   
  <div id="main-grid" class="  ">
    <div id="nav" class=" is_home "  >
      <navbar id="navbar">
  <nav id="title-nav">
    <a href="/">
      <div id="vivia-logo">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <div>Amy_blog </div>
    </a>
  </nav>
  <nav id="main-nav">
    
      <a class="main-nav-link" href="/">主页</a>
    
      <a class="main-nav-link" href="/archives">档案</a>
    
      <a class="main-nav-link" href="/about">关于</a>
    
  </nav>
  <nav id="sub-nav">
    <a id="theme-btn" class="nav-icon">
      <span class="light-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M438.5-829.913v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-829.913Zm0 747.826v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-82.087ZM877.913-438.5h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537t29.476-12.174h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T877.913-438.5Zm-747.826 0h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T82.087-521.5h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T130.087-438.5Zm660.174-290.87-34.239 32q-12.913 12.674-29.565 12.174-16.653-.5-29.327-13.174-12.674-12.673-12.554-28.826.12-16.152 12.794-28.826l33-35q12.913-12.674 30.454-12.674t30.163 12.847q12.709 12.846 12.328 30.826-.38 17.98-13.054 30.653ZM262.63-203.978l-32 34q-12.913 12.674-30.454 12.674t-30.163-12.847q-12.709-12.846-12.328-30.826.38-17.98 13.054-30.653l33.239-31q12.913-12.674 29.565-12.174 16.653.5 29.327 13.174 12.674 12.673 12.554 28.826-.12 16.152-12.794 28.826Zm466.74 33.239-32-33.239q-12.674-12.913-12.174-29.565.5-16.653 13.174-29.327 12.673-12.674 28.826-13.054 16.152-.38 28.826 12.294l35 33q12.674 12.913 12.674 30.454t-12.847 30.163q-12.846 12.709-30.826 12.328-17.98-.38-30.653-13.054ZM203.978-697.37l-34-33q-12.674-12.913-13.174-29.945-.5-17.033 12.174-29.707t31.326-13.293q18.653-.62 31.326 13.054l32 34.239q11.674 12.913 11.174 29.565-.5 16.653-13.174 29.327-12.673 12.674-28.826 12.554-16.152-.12-28.826-12.794ZM480-240q-100 0-170-70t-70-170q0-100 70-170t170-70q100 0 170 70t70 170q0 100-70 170t-170 70Zm-.247-82q65.703 0 111.475-46.272Q637-414.544 637-480.247t-45.525-111.228Q545.95-637 480.247-637t-111.475 45.525Q323-545.95 323-480.247t45.525 111.975Q414.05-322 479.753-322ZM481-481Z"/></svg></span>
      <span class="dark-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M480.239-116.413q-152.63 0-258.228-105.478Q116.413-327.37 116.413-480q0-130.935 77.739-227.435t206.304-125.043q43.022-9.631 63.87 10.869t3.478 62.805q-8.891 22.043-14.315 44.463-5.424 22.42-5.424 46.689 0 91.694 64.326 155.879 64.325 64.186 156.218 64.186 24.369 0 46.978-4.946 22.609-4.945 44.413-14.076 42.826-17.369 62.967 1.142 20.142 18.511 10.511 61.054Q807.174-280 712.63-198.206q-94.543 81.793-232.391 81.793Zm0-95q79.783 0 143.337-40.217 63.554-40.218 95.793-108.283-15.608 4.044-31.097 5.326-15.49 1.283-31.859.805-123.706-4.066-210.777-90.539-87.071-86.473-91.614-212.092-.24-16.369.923-31.978 1.164-15.609 5.446-30.978-67.826 32.478-108.282 96.152Q211.652-559.543 211.652-480q0 111.929 78.329 190.258 78.329 78.329 190.258 78.329ZM466.13-465.891Z"/></svg></span>
    </a>
    
    <div id="nav-menu-btn" class="nav-icon">
      <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M177.37-252.282q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Zm0-186.218q-17.453 0-29.477-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T177.37-521.5h605.26q17.453 0 29.477 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T782.63-438.5H177.37Zm0-186.217q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Z"/></svg>
    </div>
  </nav>
</navbar>
<div id="nav-dropdown" class="hidden">
  <div id="dropdown-link-list">
    
      <a class="nav-dropdown-link" href="/">主页</a>
    
      <a class="nav-dropdown-link" href="/archives">档案</a>
    
      <a class="nav-dropdown-link" href="/about">关于</a>
    
     
    </div>
</div>
<script>
  let dropdownBtn = document.getElementById("nav-menu-btn");
  let dropdownEle = document.getElementById("nav-dropdown");
  dropdownBtn.onclick = function() {
    dropdownEle.classList.toggle("hidden");
  }
</script>
    </div>
    <div id="sidebar-wrapper">
      <sidebar id="sidebar">
  
    <div class="widget-wrap">
  <div class="info-card">
    <div class="avatar">
      
        <image src=https://s2.loli.net/2024/10/10/PluxWMJ94EeChoR.jpg></image>
      
      <div class="img-dim"></div>
    </div>
    <div class="info">
      <div class="username">Amy </div>
      <div class="dot"></div>
      <div class="subtitle">火大无烟，水顺无声... </div>
      <div class="link-list">
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://twitter.com" title="Twitter"><i class="fa-brands fa-twitter"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://store.steampowered.com" title="Steam"><i class="fa-brands fa-steam"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://github.com/Amy-oo1" title="GitHub"><i class="fa-brands fa-github"></i></a>
         
      </div>  
    </div>
  </div>
</div>

  
  <div class="sticky">
    
      


  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">分类</h3>
      <div class="category-box">
            <a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                数据结构
                <div class="category-count">8</div>
            </a>
        
            <a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">
                计算机图形学
                <div class="category-count">25</div>
            </a>
        
            <a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">
                算法
                <div class="category-count">6</div>
            </a>
        
            <a class="category-link" href="/categories/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/">
                数字信号处理
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E6%A6%82%E7%8E%87%E8%AE%BA/">
                概率论
                <div class="category-count">3</div>
            </a>
        
            <a class="category-link" href="/categories/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/">
                编译原理
                <div class="category-count">2</div>
            </a>
        
            <a class="category-link" href="/categories/OpenGL/">
                OpenGL
                <div class="category-count">2</div>
            </a>
        
            <a class="category-link" href="/categories/DirectX12/">
                DirectX12
                <div class="category-count">1</div>
            </a>
        </div>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">标签</h3>
      <ul class="widget-tag-list" itemprop="keywords"><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Balanced-Tree/" rel="tag">Balanced-Tree</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Geometry/" rel="tag">Geometry</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Rasterization/" rel="tag">Rasterization</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Rendering/" rel="tag">Rendering</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Shading/" rel="tag">Shading</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Signal/" rel="tag">Signal</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/String/" rel="tag">String</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/cg-api/" rel="tag">cg-api</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/heap/" rel="tag">heap</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/math/" rel="tag">math</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/xg-api/" rel="tag">xg-api</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E6%9D%82%E9%A1%B9/" rel="tag">杂项</a></li></ul>
    </div>
  </div>


    
  </div>
</sidebar>
    </div>
    <div id="content-body">
      
   


<article id="post-Sampling" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/07/Sampling/">简单采样方法</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-07T12:20:18.000Z" itemprop="datePublished">2024-11-07</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E6%A6%82%E7%8E%87%E8%AE%BA/">概率论</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            3k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/math/" rel="tag">math</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              
采样方法

采样方法是指从概率分布中生成随机样本的技术

以下的采样方法只能在t[0,1]Rt[0,1]^Rt[0,1]R的空间中采样
简单随机采样（Simple Random SamplingSimple\ Random\ SamplingSimple Random Sampling）


每个样本都有相同的被选中的概率


可以通过伪随机数生成器来实现


系统采样（SystematicSamplingSystematic SamplingSystematicSampling）

从列表中随机选择一个起始点，然后按照固定的间隔选择样本

分层采样（Stratified SamplingStratified\ SamplingStratified Sampling）

将总体分成不同的层，然后从每一层中进行随机采样

分层采样（Stratified Sampling）

将总体分成不同的层，然后从每一层中进行随机采样。


选择随机点
采样方法需要处理非“矩形”空间的采样，它将等分布的点作为输入，输出预期采样空间的一个点集，这个变换满足
在矩形空间的均匀分布变换为采样空间的均...
            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/07/c2GXok1pMtxya5W.jpg)" 
      href="/2024/11/07/Sampling/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>







   


<article id="post-Volume-Rendering" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/06/Volume-Rendering/">体渲染模型</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-06T14:58:04.000Z" itemprop="datePublished">2024-11-06</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">计算机图形学</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            6.2k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rendering/" rel="tag">Rendering</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              
基本概念

体渲染把气体等物质抽象成一团飘忽不定的粒子群。光线在穿过这类物体时，其实就是光子在跟粒子发生碰撞的过程

考虑一段单位体积中，光子沿直线传播，则光子的运动可能会有如下情况


吸收（absorptionabsorptionabsorption）：光子被粒子吸收


放射（emissionemissionemission）：宏观表现为物体自发光


外散射（out−scatteringout-scatteringout−scattering）：光子在撞击到粒子后，可能会发生弹射，导致方向发生偏移,脱离当前定义的光子群


内散射（in−scatteringin-scatteringin−scattering）：其他方向的光子在撞到粒子后，可能和当前方向上的光子重合


若有点PPP在www方向的入射（辐射）强度IiI_iIi​和出射辐射强度IrI_rIr​，则有
Io−Ii=emission−absorption−scatteringout+scatteringinI_o-I_i=emission-absorption-scattering_{out}+scatter...
            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/06/ZvBXk4sDlUYtAH8.jpg)" 
      href="/2024/11/06/Volume-Rendering/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>







   


<article id="post-Quaternion-rotation" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/05/Quaternion-rotation/">四元数与旋转</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-05T01:52:18.000Z" itemprop="datePublished">2024-11-05</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">计算机图形学</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            14k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/math/" rel="tag">math</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              
绕坐标轴旋转
考虑在XOYXOYXOY平面上的二维旋转：PPP沿逆时针旋转θ\thetaθ角度得P′P^\primeP′
根据旋转定义
∥P∥=∥P′∥(I)\lVert P\rVert=\lVert P^\prime\rVert\tag{I}∥P∥=∥P′∥(I)其中向量Q(−yP,xP)Q(-y_P,x_P)Q(−yP​,xP​)为PPP逆时针旋转90∘90^\circ90∘得到，PPP和QQQ正交
则有P′=projP+projQP^\prime=proj_P+proj_QP′=projP​+projQ​，简单来说，P′P^\primeP′在两个正交基方向上的投影
projP=(P′⋅P∥P∥)P∥P∥=Pcos⁡θprojQ=(P′⋅Q∥Q∥)Q∥Q∥=Qsin⁡θ
\begin{align}
proj_P &amp;= (\frac{P^\prime\cdot P}{\lVert P\rVert})\frac{P}{\lVert P\rVert}=P\cos\theta\tag{reference I}\\
proj_Q &amp;= (\frac{P^\prime\...
            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/05/3HlqrfMOcovksXC.jpg)" 
      href="/2024/11/05/Quaternion-rotation/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>







   


<article id="post-environment-Mapping" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/04/environment-Mapping/">环境贴图</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-04T09:17:55.000Z" itemprop="datePublished">2024-11-04</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">计算机图形学</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            438 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shading/" rel="tag">Shading</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              环境贴图是一种用于模拟光滑表面反射周围环境的技术。它通常用于创建金属、水面、玻璃等材质的反射效果。环境贴图通过将环境映射到一个球体、立方体或其他几何形状上，然后将这些环境信息赋予物体表面，来实现反射效果。

天空盒
天空盒是实现环境贴图的一种技术，它是


在场景中一个立方体对象，每个面内侧都贴有纹理贴图


天空盒对象围住场景所有对象，理论上，其顶点离所有对象无限远


在光栅成像中实现
实现无限远只需要在可见性判定上处理

保证天空盒对象包围住相机
禁用深度测试并渲染天空盒
开启深度测试渲染其他对象

因为深度测试中的初始值为无线深，先渲染的天空盒对于其他物体都是无穷远的
在光线追踪中实现
不需要建立对象，使用背景函数，它接受光线的方向向量
若一个对象从视体边界射出，从背景函数中查找对象的RGBARGBARGBA

光泽效果


在光线追踪程序中，增加环境项即可


在光栅成像程序中，利用观察方向相对于法线的反射方向去查询环境映射的颜色值，简单来讲，反射光线求交



穹顶
相比天空盒，穹顶不会存在边界缝隙，但是可能存在图像扭曲




            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/04/Is2WtnC1pJ5egxb.png)" 
      href="/2024/11/04/environment-Mapping/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>







   


<article id="post-Shadow-Mapping" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/04/Shadow-Mapping/">阴影贴图</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-04T06:55:03.000Z" itemprop="datePublished">2024-11-04</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">计算机图形学</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            1.3k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shading/" rel="tag">Shading</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              
阴影贴图是一种用于在三维场景中渲染动态阴影的技术。它基于光线的视角来生成深度信息，这些信息随后用于确定场景中的哪些部分处于阴影中。


工作原理

阴影贴图技术是基于这样的认知：直接光照不能覆盖到的区域都在阴影中。这个判定只能产生硬阴影

光源空间的转换
从光源主视角来观察场景。场景中的所有物体都需要根据光源的位置和方向进行转换，以确定它们在光源视角下的位置。
也就是说，需要光源的视图变换矩阵VLightV_{Light}VLight​，其中观察方向G−EG-EG−E等价于主视角
深度图的生成
在光源视角下，渲染器会渲染场景的深度信息， 深度贴图的每个像素代表了从光源到场景中最近表面的距离。
这个过程和使用相机渲染唯一的不同


使用VLightV_{Light}VLight​而非VceramaV_{cerama}Vcerama​


只需要完成可见面判定



tipstipstips 可见面判定和着色通常一起进行，不过从光源处渲染不需要着色

场景的正常渲染
渲染器从摄像机视角渲染场景，并在渲染每个像素时执行一个额外的步骤：确定这个像素在光源视角下的深度。
具体的说，如果一...
            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/04/E3TcZeXmglstRGK.jpg)" 
      href="/2024/11/04/Shadow-Mapping/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>







   


<article id="post-Homogeneous-Space-Clipping-[2]" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/04/Homogeneous-Space-Clipping-%5B2%5D/">齐次空间裁剪[2]</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-03T16:46:11.000Z" itemprop="datePublished">2024-11-04</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">计算机图形学</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            2.7k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rasterization/" rel="tag">Rasterization</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              
引言
在上半篇中，得出了以下结果：


在齐次空间的标准视体下的流水选位置裁剪


快速获取顶点关于六个视体表面的相对位置


如果简单的把不在视体内的顶点去掉，或者由此引发的，把相关图元去掉，会生成明显的不连续边缘
这里的统一做法为使用各种插值方法生成边缘顶点

裁剪线段
线段ABABAB和标准视体的位置关系可以划分为

线段完全在视体内部：端点A,BA,BA,B的都在视体内
线段完全在实体外部：端点A,BA,BA,B在视体外且区域码相同
线段部分和视体表面相交

如果线段ABABAB不满足情况1,21,21,2，则只需要端点A,BA,BA,B的特定区域码位不同，就可以断言：线段穿过该区域码对应的视体表面所在的平面
Cyus−BeckCyus-BeckCyus−Beck裁剪算法
对端点A(xA,yA,zA,wA)A(x_A,y_A,z_A,w_A)A(xA​,yA​,zA​,wA​)和B(xB,yB,zB,wB)B(x_B,y_B,z_B,w_B)B(xB​,yB​,zB​,wB​)组队的线段ABABAB有参数线段方程
P(u)=uB+(1−u)A,0≤u≤1P(u)=uB+...
            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/04/Ezi49Z8jDYokrIu.jpg)" 
      href="/2024/11/04/Homogeneous-Space-Clipping-%5B2%5D/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>







   


<article id="post-Homogeneous-Space-Clipping[1]" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/03/Homogeneous-Space-Clipping%5B1%5D/">齐次空间裁剪[1]</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-03T11:05:31.000Z" itemprop="datePublished">2024-11-03</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">计算机图形学</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            3k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rasterization/" rel="tag">Rasterization</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              
裁剪

裁剪是指在渲染场景之前，将位于摄像机视野之外的物体或者被其他物体遮挡的部分移除的过程。这样可以提高渲染效率，因为不需要绘制最终不会出现在屏幕上的物体。

裁剪需要满足以下条件


确定场景：不会再发生顶点变换，否则可能会把场景内的点裁剪掉


确定视域：引入相机参数后，在投影变换前，它是一个四棱台，之后是正方体（规范化）


图像流水线
按照场景对象表现形式的不同，图形流水线可以分为三个阶段：世界坐标系，相机坐标系，齐次空间，屏幕空间

世界坐标系

模型可以被添加到世界坐标系中，组成场景
可能会有顶点变换


tipstipstips 虽然只说明了顶点变换，如果模型顶点存在法线，需要做法线变换

相机坐标系

将场景的世界坐标转换为相机坐标系的表达
可能存在顶点变换


tipstipstips 尽管这里场景对象可能没有变换，不过这会是裁剪可能发生的位置

齐次空间

对相机坐标系的场景做投影变换
规范化

屏幕空间

将规范视体投影到屏幕
可见面判定算法剔除


裁剪可能发生的位置

tipstipstips 如果保证不在相机坐标系下做顶点变换，则可以在世界坐标系下...
            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/03/MxKdAIOfWlt37iw.png)" 
      href="/2024/11/03/Homogeneous-Space-Clipping%5B1%5D/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>







   


<article id="post-Fibonacci-Heap" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/02/Fibonacci-Heap/">斐波那契堆</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-02T02:35:34.000Z" itemprop="datePublished">2024-11-02</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            12k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/heap/" rel="tag">heap</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              
势能分析

势能分析是用于分析数据结构操作摊销成本的一种技术。它是一种建立在势能函数基础上的分析方法，通过引入势能函数来跟踪操作的累积成本，并将这个累积成本分摊到每个操作上，从而得到每个操作的摊销成本

势能是和整个数据结构关联而非特定操作，对数据结构DDD的操作引起势能的变换

势能函数Φ(D)\Phi(D)Φ(D)：势能函数是一种用来衡量数据结构当前状态的函数。通常，这个函数会根据数据结构中的一些特定属性（如节点的数量、树的深度等）来定义。

定义对数据结构的每一次操作iii有：


势能成本Φ(Di)−Φ(Di−1)\Phi(D_i)-\Phi(D_{i-1})Φ(Di​)−Φ(Di−1​)：数据结构在进行操作时的潜在成本，它通常与数据结构的当前状态有关。


实际成本cic_ici​：执行一个操作时的即时成本。


摊还成本ci^=ci+Φ(Di)−Φ(Di−1)\hat{c_i}=c_i+\Phi(D_i)-\Phi(D_{i-1})ci​^​=ci​+Φ(Di​)−Φ(Di−1​)：将实际成本和势能变化结合起来


定义初始数据结构D0D_0D0​的势能Φ(D0)=...
            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/02/f8IC9ugeMOSEklz.jpg)" 
      href="/2024/11/02/Fibonacci-Heap/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>







   


<article id="post-Leftist-Heap" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/01/Leftist-Heap/">左式堆</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-01T13:53:42.000Z" itemprop="datePublished">2024-11-01</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            4.3k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/heap/" rel="tag">heap</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              

rootrootroot： 树根节点


left,rightleft,rightleft,right左右子节点，树



左式堆是一种可并堆，在基础的二叉堆操作上，支持快速合并

在左式堆树形节点中，除了二叉堆中基础的左右子节点，父节点，和键值对，还需要维护零路径长α\alphaα
α(x)=−1=min(α(x.left),α(x.right))+1
\begin{align}
\alpha(x) &amp;=-1\tag{x is nullptr node}\\\\
&amp;= min(\alpha(x.left),\alpha(x.right))+1\tag{others}
\end{align}
α(x)​=−1=min(α(x.left),α(x.right))+1​(x is nullptr node)(others)​即节点的零路径长是从它到到不具有两个子节点的最短下降路径
左式堆需要维护其每一个非空节点xxx的α\alphaα满足
α(x.left)≥α(x.right)\alpha(x.left)\ge\alpha(x.right)α(x.left)≥α...
            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/01/duzQTs7kYlfJrhv.jpg)" 
      href="/2024/11/01/Leftist-Heap/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>







   


<article id="post-Cook-Torrance" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 itemprop="name">
        <a class="p-name article-title" href="/2024/11/01/Cook-Torrance/">微表面理论</a>
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-11-01T07:14:05.000Z" itemprop="datePublished">2024-11-01</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">计算机图形学</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            6k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rendering/" rel="tag">Rendering</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <div class="truncate-text">
            
              
核心概念

微表面理论的核心思想是将物体表面视为由无数微小、朝向各异的镜面组成的集合。这些微小镜面被称为微面元，每个微面元都能独立反射光线

在微表面模型中，物体表面的粗糙程度由微面元的朝向分布决定。如果微面元的朝向分布较为集中，则表面看起来更光滑；反之，如果朝向分布分散，则表面看起来更粗糙
综上，可以解释Cook−TorranceCook-TorranceCook−Torrance将BRDFBRDFBRDF表示为
ρ(wr,wi)=kdifffuse⋅flambert(wr,wi)+ksepcular⋅fCook−Torrance(wr,wi)\rho(w_r,w_i)=k_{difffuse}\cdot f_{lambert}(w_r,w_i)+k_{sepcular}\cdot f_{Cook-Torrance}(w_r,w_i)ρ(wr​,wi​)=kdifffuse​⋅flambert​(wr​,wi​)+ksepcular​⋅fCook−Torrance​(wr​,wi​)其中第一项是漫反射常数分量，在之前已经证明过

Cook−TorranceCook-Torra...
            
          </div>
        
      </div>

         
    </div>
    
     
    <a class="right-panel  with-pic  "
       style="background-image: url(https://s2.loli.net/2024/11/01/rMhzjmgItJoHT7X.png)" 
      href="/2024/11/01/Cook-Torrance/" 
    >
       
      <div class="overlay">
        <i class="fa-solid fa-angle-right with-pic"></i>
      </div>
       
    </a>
     
  </div>
  
</article>








  <nav id="page-nav">
    <!-- 在第二页时 page.prev_link 不知为何无法返回正确的链接 -->
    <a id="prev-btn" class="page-nav-btn " href=" /  ">
      <i class="fa-solid fa-angle-left"></i>
    </a>
    <div id="num-bar">
      <a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a>  
    </div>
    <a id="next-btn" class="page-nav-btn " href="/page/3/">
      <i class="fa-solid fa-angle-right"></i>
    </a>
  </nav>


    </div>
    <div id="footer-wrapper">
      <!--<footer id="footer">
  
  <div id="footer-info" class="inner">
    
    &copy; 2024 Amy<br>
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & Theme <a target="_blank" rel="noopener" href="https://github.com/saicaca/hexo-theme-vivia">Vivia</a>
  </div>
</footer>
-->

    </div>
    <div class="back-to-top-wrapper">
    <button id="back-to-top-btn" class="back-to-top-btn hide" onclick="topFunction()">
        <i class="fa-solid fa-angle-up"></i>
    </button>
</div>

<script>
    function topFunction() {
        window.scroll({ top: 0, behavior: 'smooth' });
    }
    let btn = document.getElementById('back-to-top-btn');
    function scrollFunction() {
        if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
            btn.classList.remove('hide')
        } else {
            btn.classList.add('hide')
        }
    }
    window.onscroll = function() {
        scrollFunction();
    }
</script>

  </div>
  <script src="/js/light-dark-switch.js"></script>
</body>
</html>
